import{d as W,P as Tt,e as K,w as i,x as Q,u as e,o as r,n as P,H as pe,Q as tt,E as Ye,a as s,A as ce,g as x,m as V,y as at,z as nt,R as Et,I as ot,k as We,K as Ft,S as Vt,T as At,G as Ut,b as n,c as f,B as Ce,U as vt,j as Mt,h as Ht,f as S,F as G,r as ne,t as g,s as ie,v as ue,l as Lt,p as zt,q as jt}from"./app-vIeCO0mb.js";import{T as Wt,D as Yt,a as Kt,b as Xt,c as Gt,d as Jt,f as Zt,e as Qt,g as be,h as we,i as ke,_ as ea,t as _e}from"./AppLayout.vue_vue_type_script_setup_true_lang-DeVz9zvs.js";import{_ as ta}from"./index-C8Wp-btG.js";import{P as st,c as Oe,_ as le}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DA7aidpq.js";import{C as aa,_ as mt}from"./Checkbox.vue_vue_type_script_setup_true_lang-iz0e0_CU.js";import{u as rt}from"./useForwardPropsEmits-z0oDnB_6.js";import{c as Bt,u as na,P as oa}from"./VisuallyHidden-RKA89y6Z.js";import{u as lt}from"./useForwardExpose-CP0oZ6zC.js";import{c as sa,a as ra,r as it}from"./index-BSTgUifH.js";import{_ as de}from"./Input.vue_vue_type_script_setup_true_lang-BZwEdfVM.js";import{_ as A}from"./Label.vue_vue_type_script_setup_true_lang-DX3IeS9-.js";import{c as Pe}from"./loader-circle-JR_dS27q.js";import"./index-B26eXW15.js";const[Ot,la]=Bt("CollapsibleRoot");var ia=W({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(p,{expose:c,emit:l}){const _=p,$=sa(_,"open",l,{defaultValue:_.defaultOpen,passive:_.open===void 0}),{disabled:k,unmountOnHide:C}=Tt(_);return la({contentId:"",disabled:k,open:$,unmountOnHide:C,onOpenToggle:()=>{k.value||($.value=!$.value)}}),c({open:$}),lt(),(I,E)=>(r(),K(e(st),{as:I.as,"as-child":_.asChild,"data-state":e($)?"open":"closed","data-disabled":e(k)?"":void 0},{default:i(()=>[Q(I.$slots,"default",{open:e($)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),ua=ia,da=W({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(p,{emit:c}){const l=p,_=c,v=Ot();v.contentId||=na(void 0,"reka-collapsible-content");const $=P(),{forwardRef:k,currentElement:C}=lt(),I=P(0),E=P(0),H=V(()=>v.open.value),d=P(H.value),h=P();pe(()=>[H.value,$.value?.present],async()=>{await tt();const b=C.value;if(!b)return;h.value=h.value||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();E.value=w.height,I.value=w.width,d.value||(b.style.transitionDuration=h.value.transitionDuration,b.style.animationName=h.value.animationName)},{immediate:!0});const B=V(()=>d.value&&v.open.value);return Ye(()=>{requestAnimationFrame(()=>{d.value=!1})}),ra(C,"beforematch",b=>{requestAnimationFrame(()=>{v.onOpenToggle(),_("contentFound")})}),(b,w)=>(r(),K(e(oa),{ref_key:"presentRef",ref:$,present:b.forceMount||e(v).open.value,"force-mount":!0},{default:i(({present:N})=>[s(e(st),ce(b.$attrs,{id:e(v).contentId,ref:e(k),"as-child":l.asChild,as:b.as,hidden:N?void 0:e(v).unmountOnHide.value?"":"until-found","data-state":B.value?void 0:e(v).open.value?"open":"closed","data-disabled":e(v).disabled?.value?"":void 0,style:{"--reka-collapsible-content-height":`${E.value}px`,"--reka-collapsible-content-width":`${I.value}px`}}),{default:i(()=>[!e(v).unmountOnHide.value||N?Q(b.$slots,"default",{key:0}):x("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]),_:3},8,["present"]))}}),pa=da,ca=W({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(p){const c=p;lt();const l=Ot();return(_,v)=>(r(),K(e(st),{type:_.as==="button"?"button":void 0,as:_.as,"as-child":c.asChild,"aria-controls":e(l).contentId,"aria-expanded":e(l).open.value,"data-state":e(l).open.value?"open":"closed","data-disabled":e(l).disabled?.value?"":void 0,disabled:e(l).disabled?.value,onClick:e(l).onOpenToggle},{default:i(()=>[Q(_.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"]))}}),fa=ca;const va=Pe("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Le=Pe("ClipboardIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const ma=Pe("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const _a=Pe("HistoryIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const ya=Pe("PaperclipIcon",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);const ga=Pe("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),$e=W({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(p){const c=p;return(l,_)=>(r(),K(e(Wt),at(nt(c)),{default:i(()=>[Q(l.$slots,"default")]),_:3},16))}}),_t=W({__name:"Collapsible",props:{defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(p,{emit:c}){const v=rt(p,c);return($,k)=>(r(),K(e(ua),ce({"data-slot":"collapsible"},e(v)),{default:i(C=>[Q($.$slots,"default",at(nt(C)))]),_:3},16))}}),xa=W({__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(p){const c=p;return(l,_)=>(r(),K(e(pa),ce({"data-slot":"collapsible-content"},c),{default:i(()=>[Q(l.$slots,"default")]),_:3},16))}}),ha=W({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{}},setup(p){const c=p;return(l,_)=>(r(),K(e(fa),ce({"data-slot":"collapsible-trigger"},c),{default:i(()=>[Q(l.$slots,"default")]),_:3},16))}});(function(){var p;try{if(typeof document<"u"){var c=document.createElement("style");c.nonce=(p=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:p.content,c.appendChild(document.createTextNode('[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32,.72,0,1);animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform, 100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform, 100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true]):after{content:"";position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:hover,[data-vaul-handle]:active{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover: hover) and (pointer: fine){[data-vaul-drawer]{-webkit-user-select:none;user-select:none}}@media (pointer: fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{0%{transform:translate3d(0,var(--initial-transform, 100%),0)}to{transform:translateZ(0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform, 100%),0)}}@keyframes slideFromTop{0%{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}to{transform:translateZ(0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}}@keyframes slideFromLeft{0%{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}to{transform:translateZ(0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}}@keyframes slideFromRight{0%{transform:translate3d(var(--initial-transform, 100%),0,0)}to{transform:translateZ(0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform, 100%),0,0)}}')),document.head.appendChild(c)}}catch(l){console.error("vite-plugin-css-injected-by-js",l)}})();const ba=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const wa=p=>typeof p<"u";function ka(p){return JSON.parse(JSON.stringify(p))}function yt(p,c,l,_={}){var v,$,k;const{clone:C=!1,passive:I=!1,eventName:E,deep:H=!1,defaultValue:d,shouldEmit:h}=_,B=Vt(),b=l||B?.emit||((v=B?.$emit)==null?void 0:v.bind(B))||((k=($=B?.proxy)==null?void 0:$.$emit)==null?void 0:k.bind(B?.proxy));let w=E;c||(c="modelValue"),w=w||`update:${c.toString()}`;const N=m=>C?typeof C=="function"?C(m):ka(m):m,J=()=>wa(p[c])?N(p[c]):d,D=m=>{h?h(m)&&b(w,m):b(w,m)};if(I){const m=J(),O=P(m);let T=!1;return pe(()=>p[c],o=>{T||(T=!0,O.value=N(o),tt(()=>T=!1))}),pe(O,o=>{!T&&(o!==p[c]||H)&&D(o)},{deep:H}),O}else return V({get(){return J()},set(m){D(m)}})}const[ut,$a]=Bt("DrawerRoot"),Pt=new WeakMap;function Y(p,c,l=!1){if(!p||!(p instanceof HTMLElement)||!c)return;const _={};Object.entries(c).forEach(([v,$])=>{if(v.startsWith("--")){p.style.setProperty(v,$);return}_[v]=p.style[v],p.style[v]=$}),!l&&Pt.set(p,_)}function Ca(p,c){if(!p||!(p instanceof HTMLElement))return;const l=Pt.get(p);l&&Object.entries(l).forEach(([_,v])=>{p.style[_]=v})}function ze(p,c){const l=window.getComputedStyle(p),_=l.transform||l.webkitTransform||l.mozTransform;let v=_.match(/^matrix3d\((.+)\)$/);return v?Number.parseFloat(v[1].split(", ")[z(c)?13:12]):(v=_.match(/^matrix\((.+)\)$/),v?Number.parseFloat(v[1].split(", ")[z(c)?5:4]):null)}function Sa(p){return 8*(Math.log(p+1)-2)}function z(p){switch(p){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return p}}function et(p,c){if(!p)return()=>{};const l=p.style.cssText;return Object.assign(p.style,c),()=>{p.style.cssText=l}}function Da(...p){return(...c)=>{for(const l of p)typeof l=="function"&&l(...c)}}const M={DURATION:.5,EASE:[.32,.72,0,1]},Rt=.4,Ta=.25,Ba=100,qt=8,je=16,It=26,gt="vaul-dragging";function Oa({activeSnapPoint:p,snapPoints:c,drawerRef:l,overlayRef:_,fadeFromIndex:v,onSnapPointChange:$,direction:k}){const C=P(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);function I(){C.value={innerWidth:window.innerWidth,innerHeight:window.innerHeight}}Ye(()=>{typeof window<"u"&&window.addEventListener("resize",I)}),At(()=>{typeof window<"u"&&window.removeEventListener("resize",I)});const E=V(()=>(c.value&&p.value===c.value[c.value.length-1])??null),H=V(()=>c.value&&c.value.length>0&&(v?.value||v?.value===0)&&!Number.isNaN(v?.value)&&c.value[v?.value??-1]===p.value||!c.value),d=V(()=>{var D;return((D=c.value)==null?void 0:D.findIndex(m=>m===p.value))??null}),h=V(()=>{var D;return((D=c.value)==null?void 0:D.map(m=>{const O=typeof m=="string";let T=0;if(O&&(T=Number.parseInt(m,10)),z(k.value)){const q=O?T:C.value?m*C.value.innerHeight:0;return C.value?k.value==="bottom"?C.value.innerHeight-q:-C.value.innerHeight+q:q}const o=O?T:C.value?m*C.value.innerWidth:0;return C.value?k.value==="right"?C.value.innerWidth-o:-C.value.innerWidth+o:o}))??[]}),B=V(()=>{var D;return d.value!==null?(D=h.value)==null?void 0:D[d.value]:null}),b=D=>{var m,O,T,o;const q=((m=h.value)==null?void 0:m.findIndex(te=>te===D))??null;tt(()=>{var te;$(q,h.value),Y((te=l.value)==null?void 0:te.$el,{transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,transform:z(k.value)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`})}),h.value&&q!==h.value.length-1&&q!==v?.value?Y((O=_.value)==null?void 0:O.$el,{transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,opacity:"0"}):Y((T=_.value)==null?void 0:T.$el,{transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,opacity:"1"}),p.value=q!==null?((o=c.value)==null?void 0:o[q])??null:null};pe([p,h,c],()=>{var D;if(p.value){const m=((D=c.value)==null?void 0:D.findIndex(O=>O===p.value))??-1;h.value&&m!==-1&&typeof h.value[m]=="number"&&b(h.value[m])}},{immediate:!0});function w({draggedDistance:D,closeDrawer:m,velocity:O,dismissible:T}){var o,q,te;if(v.value===void 0)return;const fe=k.value==="bottom"||k.value==="right"?(B.value??0)-D:(B.value??0)+D,Se=d.value===v.value-1,ve=d.value===0,se=D>0;if(Se&&Y((o=_.value)==null?void 0:o.$el,{transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`}),O>2&&!se){T?m():b(h.value[0]);return}if(O>2&&se&&h&&c.value){b(h.value[c.value.length-1]);return}const ye=(q=h.value)==null?void 0:q.reduce((ae,R)=>typeof ae!="number"||typeof R!="number"?ae:Math.abs(R-fe)<Math.abs(ae-fe)?R:ae),me=z(k.value)?window.innerHeight:window.innerWidth;if(O>Rt&&Math.abs(D)<me*.4){const ae=se?1:-1;if(ae>0&&E){b(h.value[(((te=c.value)==null?void 0:te.length)??0)-1]);return}if(ve&&ae<0&&T&&m(),d.value===null)return;b(h.value[d.value+ae]);return}b(ye)}function N({draggedDistance:D}){var m;if(B.value===null)return;const O=k.value==="bottom"||k.value==="right"?B.value-D:B.value+D;(k.value==="bottom"||k.value==="right")&&O<h.value[h.value.length-1]||(k.value==="top"||k.value==="left")&&O>h.value[h.value.length-1]||Y((m=l.value)==null?void 0:m.$el,{transform:z(k.value)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`})}function J(D,m){if(!c.value||typeof d.value!="number"||!h.value||v.value===void 0)return null;const O=d.value===v.value-1;if(d.value>=v.value&&m)return 0;if(O&&!m)return 1;if(!H.value&&!O)return null;const T=O?d.value+1:d.value-1,o=O?h.value[T]-h.value[T-1]:h.value[T+1]-h.value[T],q=D/Math.abs(o);return O?1-q:q}return{isLastSnapPoint:E,shouldFade:H,getPercentageDragged:J,activeSnapPointIndex:d,onRelease:w,onDrag:N,snapPointsOffset:h}}function xt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}let Ne=null;function Pa(p){const{isOpen:c,modal:l,nested:_,hasBeenOpened:v,preventScrollRestoration:$,noBodyStyles:k}=p,C=P(typeof window<"u"?window.location.href:""),I=P(0);function E(){if(xt()&&Ne===null&&c.value&&!k.value){Ne={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-I.value}px`,left:`${-d}px`,right:"0px",height:"auto"}),setTimeout(()=>{requestAnimationFrame(()=>{const B=h-window.innerHeight;B&&I.value>=h&&(document.body.style.top=`-${I.value+B}px`)})},300)}}function H(){if(xt()&&Ne!==null&&!k.value){const d=-Number.parseInt(document.body.style.top,10),h=-Number.parseInt(document.body.style.left,10);Object.assign(document.body.style,Ne),window.requestAnimationFrame(()=>{if($.value&&C.value!==window.location.href){C.value=window.location.href;return}window.scrollTo(h,d)}),Ne=null}}return Ye(()=>{function d(){I.value=window.scrollY}d(),window.addEventListener("scroll",d),Ut(()=>{window.removeEventListener("scroll",d)})}),pe([c,v,C],()=>{_.value||!v.value||(c.value?(window.matchMedia("(display-mode: standalone)").matches||E(),l.value||setTimeout(()=>{H()},500)):H())}),{restorePositionSetting:H}}function Ra(p,c){return p&&p.value?p:c}function qa(p){const{emitDrag:c,emitRelease:l,emitClose:_,emitOpenChange:v,open:$,dismissible:k,nested:C,modal:I,shouldScaleBackground:E,setBackgroundColorOnScale:H,scrollLockTimeout:d,closeThreshold:h,activeSnapPoint:B,fadeFromIndex:b,direction:w,noBodyStyles:N,handleOnly:J,preventScrollRestoration:D}=p,m=P($.value??!1),O=P(!1),T=P(!1),o=P(!1),q=P(null),te=P(null),fe=P(null),Se=P(null),ve=P(null),se=P(!1),ye=P(null),me=P(0),ae=P(!1),R=P(null),Re=V(()=>{var y;return((y=R.value)==null?void 0:y.$el.getBoundingClientRect().height)||0}),Z=Ra(p.snapPoints,P(void 0)),Ke=V(()=>{var y;return Z&&(((y=Z.value)==null?void 0:y.length)??0)>0}),Xe=P(null),{activeSnapPointIndex:Ee,onRelease:Fe,snapPointsOffset:Ge,onDrag:qe,shouldFade:Ve,getPercentageDragged:Je}=Oa({snapPoints:Z,activeSnapPoint:B,drawerRef:R,fadeFromIndex:b,overlayRef:q,onSnapPointChange:Ze,direction:w});function Ze(y,L){Z.value&&y===L.length-1&&(te.value=new Date)}Pa({isOpen:m,modal:I,nested:C,hasBeenOpened:O,noBodyStyles:N,preventScrollRestoration:D});function De(){return(window.innerWidth-It)/window.innerWidth}function Ae(y,L){var j;if(!y)return!1;let F=y;const X=(j=window.getSelection())==null?void 0:j.toString(),ee=R.value?ze(R.value.$el,w.value):null,re=new Date;if(F.hasAttribute("data-vaul-no-drag")||F.closest("[data-vaul-no-drag]"))return!1;if(w.value==="right"||w.value==="left")return!0;if(te.value&&re.getTime()-te.value.getTime()<500)return!1;if(ee!==null&&(w.value==="bottom"?ee>0:ee<0))return!0;if(X&&X.length>0)return!1;if(ve.value&&re.getTime()-ve.value.getTime()<d.value&&ee===0||L)return ve.value=re,!1;for(;F;){if(F.scrollHeight>F.clientHeight){if(F.scrollTop!==0)return ve.value=new Date,!1;if(F.getAttribute("role")==="dialog")return!0}F=F.parentNode}return!0}function Te(y){!k.value&&!Z.value||R.value&&!R.value.$el.contains(y.target)||(T.value=!0,fe.value=new Date,y.target.setPointerCapture(y.pointerId),me.value=z(w.value)?y.clientY:y.clientX)}function u(y){var L,j,F,X,ee,re;if(R.value&&T.value){const Be=w.value==="bottom"||w.value==="right"?1:-1,Ue=(me.value-(z(w.value)?y.clientY:y.clientX))*Be,Me=Ue>0,dt=Z.value&&!k.value&&!Me;if(dt&&Ee.value===0)return;const Qe=Math.abs(Ue),pt=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");let xe=Qe/Re.value;const ct=Je(Qe,Me);if(ct!==null&&(xe=ct),dt&&xe>=1||!se.value&&!Ae(y.target,Me))return;if((L=R?.value)==null||L.$el.classList.add(gt),se.value=!0,Y((j=R.value)==null?void 0:j.$el,{transition:"none"}),Y((F=q.value)==null?void 0:F.$el,{transition:"none"}),Z.value&&qe({draggedDistance:Ue}),Me&&!Z.value){const he=Sa(Ue),He=Math.min(he*-1,0)*Be;Y((X=R.value)==null?void 0:X.$el,{transform:z(w.value)?`translate3d(0, ${He}px, 0)`:`translate3d(${He}px, 0, 0)`});return}const Nt=1-xe;if((Ve.value||b.value&&Ee.value===b.value-1)&&(c(xe),Y((ee=q.value)==null?void 0:ee.$el,{opacity:`${Nt}`,transition:"none"},!0)),pt&&q.value&&E.value){const he=Math.min(De()+xe*(1-De()),1),He=8-xe*8,ft=Math.max(0,14-xe*14);Y(pt,{borderRadius:`${He}px`,transform:z(w.value)?`scale(${he}) translate3d(0, ${ft}px, 0)`:`scale(${he}) translate3d(${ft}px, 0, 0)`,transition:"none"},!0)}if(!Z.value){const he=Qe*Be;Y((re=R.value)==null?void 0:re.$el,{transform:z(w.value)?`translate3d(0, ${he}px, 0)`:`translate3d(${he}px, 0, 0)`})}}}function t(){var y;if(!R.value)return;const L=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]"),j=ze(R.value.$el,w.value);Y(R.value.$el,{transform:"translate3d(0, 0, 0)",transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`}),Y((y=q.value)==null?void 0:y.$el,{transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,opacity:"1"}),E.value&&j&&j>0&&m.value&&Y(L,{borderRadius:`${qt}px`,overflow:"hidden",...z(w.value)?{transform:`scale(${De()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${De()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${M.DURATION}s`,transitionTimingFunction:`cubic-bezier(${M.EASE.join(",")})`},!0)}function a(y){R.value&&(_(),y||(m.value=!1),window.setTimeout(()=>{Z.value&&(B.value=Z.value[0])},M.DURATION*1e3))}ot(()=>{if(!m.value&&E.value&&ba){const y=setTimeout(()=>{Ca(document.body)},200);return()=>clearTimeout(y)}}),pe($,()=>{m.value=$.value,$.value||a()});function U(y){if(!T.value||!R.value)return;R.value.$el.classList.remove(gt),se.value=!1,T.value=!1,Se.value=new Date;const L=ze(R.value.$el,w.value);if(!Ae(y.target,!1)||!L||Number.isNaN(L)||fe.value===null)return;const j=Se.value.getTime()-fe.value.getTime(),F=me.value-(z(w.value)?y.clientY:y.clientX),X=Math.abs(F)/j;if(X>.05&&(o.value=!0,window.setTimeout(()=>{o.value=!1},200)),Z.value){const re=w.value==="bottom"||w.value==="right"?1:-1;Fe({draggedDistance:F*re,closeDrawer:a,velocity:X,dismissible:k.value}),l(!0);return}if(w.value==="bottom"||w.value==="right"?F>0:F<0){t(),l(!0);return}if(X>Rt){a(),l(!1);return}const ee=Math.min(R.value.$el.getBoundingClientRect().height??0,window.innerHeight);if(L>=ee*h.value){a(),l(!1);return}l(!0),t()}pe(m,y=>{y&&(te.value=new Date),v(y)},{immediate:!0});function ge(y){var L,j;const F=y?(window.innerWidth-je)/window.innerWidth:1,X=y?-16:0;ye.value&&window.clearTimeout(ye.value),Y((L=R.value)==null?void 0:L.$el,{transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,transform:`scale(${F}) translate3d(0, ${X}px, 0)`}),!y&&(j=R.value)!=null&&j.$el&&(ye.value=window.setTimeout(()=>{var ee,re;const Be=ze((ee=R.value)==null?void 0:ee.$el,w.value);Y((re=R.value)==null?void 0:re.$el,{transition:"none",transform:z(w.value)?`translate3d(0, ${Be}px, 0)`:`translate3d(${Be}px, 0, 0)`})},500))}function oe(y){var L;if(y<0)return;const j=z(w.value)?window.innerHeight:window.innerWidth,F=(j-je)/j,X=F+y*(1-F),ee=-16+y*je;Y((L=R.value)==null?void 0:L.$el,{transform:z(w.value)?`scale(${X}) translate3d(0, ${ee}px, 0)`:`scale(${X}) translate3d(${ee}px, 0, 0)`,transition:"none"})}function Ie(y){var L;const j=z(w.value)?window.innerHeight:window.innerWidth,F=y?(j-je)/j:1,X=y?-16:0;y&&Y((L=R.value)==null?void 0:L.$el,{transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,transform:z(w.value)?`scale(${F}) translate3d(0, ${X}px, 0)`:`scale(${F}) translate3d(${X}px, 0, 0)`})}return{open:$,isOpen:m,modal:I,keyboardIsOpen:ae,hasBeenOpened:O,drawerRef:R,drawerHeightRef:Re,overlayRef:q,handleRef:Xe,isDragging:T,dragStartTime:fe,isAllowedToDrag:se,snapPoints:Z,activeSnapPoint:B,hasSnapPoints:Ke,pointerStart:me,dismissible:k,snapPointsOffset:Ge,direction:w,shouldFade:Ve,fadeFromIndex:b,shouldScaleBackground:E,setBackgroundColorOnScale:H,onPress:Te,onDrag:u,onRelease:U,closeDrawer:a,onNestedDrag:oe,onNestedRelease:Ie,onNestedOpenChange:ge,emitClose:_,emitDrag:c,emitRelease:l,emitOpenChange:v,nested:C,handleOnly:J,noBodyStyles:N}}const Ia=W({__name:"DrawerRoot",props:{activeSnapPoint:{default:void 0},closeThreshold:{default:Ta},shouldScaleBackground:{type:Boolean,default:void 0},setBackgroundColorOnScale:{type:Boolean,default:!0},scrollLockTimeout:{default:Ba},fixed:{type:Boolean,default:void 0},dismissible:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},nested:{type:Boolean,default:!1},direction:{default:"bottom"},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean,default:!1},preventScrollRestoration:{type:Boolean},snapPoints:{default:void 0},fadeFromIndex:{default:void 0}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(p,{expose:c,emit:l}){const _=p,v=l;Et();const $=V(()=>_.fadeFromIndex??(_.snapPoints&&_.snapPoints.length-1)),k=yt(_,"open",v,{defaultValue:_.defaultOpen,passive:_.open===void 0}),C=yt(_,"activeSnapPoint",v,{passive:_.activeSnapPoint===void 0}),I={emitDrag:b=>v("drag",b),emitRelease:b=>v("release",b),emitClose:()=>v("close"),emitOpenChange:b=>{v("update:open",b),setTimeout(()=>{v("animationEnd",b)},M.DURATION*1e3)}},{closeDrawer:E,hasBeenOpened:H,modal:d,isOpen:h}=$a(qa({...I,...Tt(_),activeSnapPoint:C,fadeFromIndex:$,open:k}));function B(b){if(k.value!==void 0){I.emitOpenChange(b);return}h.value=b,b?H.value=!0:E()}return c({open:h}),(b,w)=>(r(),K(e(Yt),{open:e(h),modal:e(d),"onUpdate:open":B},{default:i(()=>[Q(b.$slots,"default",{open:e(h)})]),_:3},8,["open","modal"]))}}),Na=W({__name:"DrawerOverlay",setup(p){const{overlayRef:c,hasSnapPoints:l,isOpen:_,shouldFade:v}=ut();return($,k)=>(r(),K(e(Kt),{ref_key:"overlayRef",ref:c,"data-vaul-overlay":"","data-vaul-snap-points":e(_)&&e(l)?"true":"false","data-vaul-snap-points-overlay":e(_)&&e(v)?"true":"false"},null,8,["data-vaul-snap-points","data-vaul-snap-points-overlay"]))}}),Ea=()=>()=>{};function Fa(){const{direction:p,isOpen:c,shouldScaleBackground:l,setBackgroundColorOnScale:_,noBodyStyles:v}=ut(),$=P(null),k=P(document.body.style.backgroundColor);function C(){return(window.innerWidth-It)/window.innerWidth}ot(I=>{if(c.value&&l.value){$.value&&clearTimeout($.value);const E=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!E)return;Da(_.value&&!v.value?et(document.body,{background:"black"}):Ea,et(E,{transformOrigin:z(p.value)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${M.DURATION}s`,transitionTimingFunction:`cubic-bezier(${M.EASE.join(",")})`}));const H=et(E,{borderRadius:`${qt}px`,overflow:"hidden",...z(p.value)?{transform:`scale(${C()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${C()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});I(()=>{H(),$.value=window.setTimeout(()=>{k.value?document.body.style.background=k.value:document.body.style.removeProperty("background")},M.DURATION*1e3)})}},{flush:"pre"})}const Va=W({__name:"DrawerContent",setup(p){const{open:c,isOpen:l,snapPointsOffset:_,hasSnapPoints:v,drawerRef:$,onPress:k,onDrag:C,onRelease:I,modal:E,emitOpenChange:H,dismissible:d,keyboardIsOpen:h,closeDrawer:B,direction:b,handleOnly:w}=ut();Fa();const N=P(!1),J=V(()=>_.value&&_.value.length>0?`${_.value[0]}px`:"0");function D(T){if(!E.value||T.defaultPrevented){T.preventDefault();return}h.value&&(h.value=!1),d.value?H(!1):T.preventDefault()}function m(T){w.value||k(T)}function O(T){w.value||C(T)}return ot(()=>{v.value&&window.requestAnimationFrame(()=>{N.value=!0})}),(T,o)=>(r(),K(e(Xt),{ref_key:"drawerRef",ref:$,"data-vaul-drawer":"","data-vaul-drawer-direction":e(b),"data-vaul-delayed-snap-points":N.value?"true":"false","data-vaul-snap-points":e(l)&&e(v)?"true":"false",style:Ft({"--snap-point-height":J.value}),onPointerdown:m,onPointermove:O,onPointerup:e(I),onPointerDownOutside:D,onOpenAutoFocus:o[0]||(o[0]=We(()=>{},["prevent"])),onEscapeKeyDown:o[1]||(o[1]=q=>{e(d)||q.preventDefault()})},{default:i(()=>[Q(T.$slots,"default")]),_:3},8,["data-vaul-drawer-direction","data-vaul-delayed-snap-points","data-vaul-snap-points","style","onPointerup"]))}}),ht=W({__name:"Drawer",props:{activeSnapPoint:{},closeThreshold:{},shouldScaleBackground:{type:Boolean,default:!0},setBackgroundColorOnScale:{type:Boolean},scrollLockTimeout:{},fixed:{type:Boolean},dismissible:{type:Boolean},modal:{type:Boolean},open:{type:Boolean},defaultOpen:{type:Boolean},nested:{type:Boolean},direction:{},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean},preventScrollRestoration:{type:Boolean},snapPoints:{},fadeFromIndex:{}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(p,{emit:c}){const v=rt(p,c);return($,k)=>(r(),K(e(Ia),ce({"data-slot":"drawer"},e(v)),{default:i(C=>[Q($.$slots,"default",at(nt(C)))]),_:3},16))}}),bt=W({__name:"DrawerClose",props:{asChild:{type:Boolean},as:{}},setup(p){const c=p;return(l,_)=>(r(),K(e(Gt),ce({"data-slot":"drawer-close"},c),{default:i(()=>[Q(l.$slots,"default")]),_:3},16))}}),Aa=W({__name:"DrawerOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(p){const c=p,l=it(c,"class");return(_,v)=>(r(),K(e(Na),ce({"data-slot":"drawer-overlay"},e(l),{class:e(Oe)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",c.class)}),null,16,["class"]))}}),wt=W({inheritAttrs:!1,__name:"DrawerContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(p,{emit:c}){const l=p,v=rt(l,c);return($,k)=>(r(),K(e(Jt),null,{default:i(()=>[s(Aa),s(e(Va),ce({"data-slot":"drawer-content"},{...$.$attrs,...e(v)},{class:e(Oe)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:sm:max-w-sm",l.class)}),{default:i(()=>[k[0]||(k[0]=n("div",{class:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"},null,-1)),Q($.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),kt=W({__name:"DrawerDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(p){const c=p,l=it(c,"class");return(_,v)=>(r(),K(e(Zt),ce({"data-slot":"drawer-description"},e(l),{class:e(Oe)("text-muted-foreground text-sm",c.class)}),{default:i(()=>[Q(_.$slots,"default")]),_:3},16,["class"]))}}),$t=W({__name:"DrawerFooter",props:{class:{}},setup(p){const c=p;return(l,_)=>(r(),f("div",{"data-slot":"drawer-footer",class:Ce(e(Oe)("mt-auto flex flex-col gap-2 p-4",c.class))},[Q(l.$slots,"default")],2))}}),Ct=W({__name:"DrawerHeader",props:{class:{}},setup(p){const c=p;return(l,_)=>(r(),f("div",{"data-slot":"drawer-header",class:Ce(e(Oe)("flex flex-col gap-1.5 p-4",c.class))},[Q(l.$slots,"default")],2))}}),St=W({__name:"DrawerTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(p){const c=p,l=it(c,"class");return(_,v)=>(r(),K(e(Qt),ce({"data-slot":"drawer-title"},e(l),{class:e(Oe)("text-foreground font-semibold",c.class)}),{default:i(()=>[Q(_.$slots,"default")]),_:3},16,["class"]))}}),Ua={class:"flex flex-col gap-6 p-4"},Ma={class:"rounded-xl border border-sidebar-border/70 bg-white p-4 dark:border-sidebar-border dark:bg-neutral-900"},Ha={class:"flex flex-wrap items-center justify-between gap-4"},La={class:"flex flex-wrap items-center gap-2"},za={class:"mb-3 space-y-1.5 rounded-lg border border-border/60 bg-muted/20 p-3"},ja={class:"flex flex-wrap gap-1.5"},Wa=["onClick"],Ya={class:"grid grid-cols-2 gap-2.5 md:grid-cols-4"},Ka={class:"grid gap-1.5"},Xa=["value"],Ga={class:"grid gap-1.5"},Ja=["value"],Za={class:"grid gap-1.5"},Qa=["value"],en={class:"grid gap-1.5"},tn=["value"],an={class:"grid gap-1.5"},nn=["value"],on={class:"grid gap-1.5"},sn={class:"grid gap-1.5"},rn={class:"grid gap-1.5"},ln={class:"grid gap-1.5"},un={class:"grid gap-1.5"},dn={class:"mt-3 flex flex-wrap gap-2"},pn={class:"overflow-hidden rounded-xl border border-sidebar-border/70 bg-white dark:border-sidebar-border dark:bg-neutral-900"},cn={class:"overflow-x-auto"},fn={class:"w-full text-left text-xs"},vn={class:"border-b border-sidebar-border/70 text-[11px] uppercase text-muted-foreground"},mn={key:0,class:"px-3 py-2"},_n={key:1,class:"px-3 py-2"},yn={key:2,class:"px-3 py-2 whitespace-nowrap"},gn={key:3,class:"px-3 py-2 whitespace-nowrap"},xn={key:4,class:"px-3 py-2 whitespace-nowrap"},hn={key:5,class:"px-3 py-2"},bn={key:6,class:"px-3 py-2"},wn={key:7,class:"px-3 py-2 whitespace-nowrap"},kn={key:8,class:"px-3 py-2"},$n={key:9,class:"px-3 py-2"},Cn={key:10,class:"px-3 py-2"},Sn={key:11,class:"px-3 py-2"},Dn={key:0,class:"px-3 py-2 font-semibold"},Tn={class:"group inline-flex items-center gap-1"},Bn={class:"text-muted-foreground"},On={key:1,class:"px-3 py-2 whitespace-nowrap"},Pn={class:"group inline-flex items-center gap-1"},Rn={class:"text-muted-foreground"},qn={key:2,class:"px-3 py-2"},In={class:"group inline-flex items-center gap-1"},Nn={key:3,class:"px-3 py-2 whitespace-nowrap"},En={class:"group inline-flex items-center gap-1"},Fn={class:"max-w-45 truncate"},Vn={class:"text-xs"},An={key:4,class:"px-3 py-2 whitespace-nowrap"},Un={class:"group inline-flex items-center gap-1"},Mn={class:"max-w-45 truncate"},Hn={class:"text-xs"},Ln={key:5,class:"px-3 py-2"},zn={class:"group flex max-w-55 items-start gap-1"},jn={class:"truncate leading-5 max-w-32"},Wn={class:"text-xs"},Yn=["onClick"],Kn={key:1,class:"mt-0.5"},Xn=["onClick"],Gn={class:"text-xs"},Jn={key:6,class:"px-3 py-2 font-medium"},Zn={class:"group flex flex-col"},Qn={class:"inline-flex items-center gap-1"},eo=["onClick"],to={key:0,class:"text-[11px] text-muted-foreground"},ao={key:7,class:"px-3 py-2"},no={class:"group inline-flex items-center gap-1"},oo=["onClick"],so={key:8,class:"px-3 py-2 whitespace-nowrap"},ro={class:"group inline-flex items-center gap-1"},lo={class:"max-w-45 truncate"},io={class:"text-xs"},uo={key:9,class:"px-3 py-2"},po={class:"group inline-flex items-center gap-1"},co={key:10,class:"px-3 py-2"},fo={key:0,class:"flex items-center gap-2"},vo={key:0,class:"group inline-flex items-center gap-1"},mo={class:"max-w-32 truncate text-[11px] text-muted-foreground"},_o={class:"text-xs"},yo=["onClick"],go={key:1,class:"text-muted-foreground"},xo={key:11,class:"px-3 py-2"},ho={class:"group flex max-w-45 items-start gap-1"},bo={class:"truncate leading-5 text-muted-foreground"},wo={class:"text-xs"},ko={class:"px-3 py-2"},$o={class:"flex items-center justify-end gap-1"},Co={key:0},So=["colspan"],Do={class:"flex flex-wrap items-center gap-3 border-t border-sidebar-border/70 px-4 py-3"},To={class:"flex items-center gap-2 text-xs text-muted-foreground"},Bo=["value"],Oo=["innerHTML"],Po={class:"border-t border-sidebar-border/70 px-4 py-3 text-xs"},Ro={class:"flex flex-wrap items-center gap-2 text-muted-foreground"},qo={key:1},Io={key:0,class:"border-t border-sidebar-border/70 bg-muted/30 px-4 py-3"},No={class:"flex flex-col gap-2 text-sm"},Eo={class:"flex flex-wrap items-center gap-4 font-semibold"},Fo={class:"mx-auto flex h-full w-full max-w-4xl flex-col"},Vo={key:0},Ao={key:1},Uo={class:"flex-1 overflow-y-auto px-6 pb-6"},Mo={class:"grid gap-4 md:grid-cols-2"},Ho={class:"grid gap-2"},Lo=["value"],zo={key:0,class:"text-sm text-red-600"},jo={class:"grid gap-2"},Wo=["disabled"],Yo=["value"],Ko={key:0,class:"text-sm text-red-600"},Xo={key:0,class:"grid gap-2"},Go={key:0,class:"text-sm text-red-600"},Jo={class:"grid gap-2 md:col-span-1"},Zo={key:0,class:"text-sm text-red-600"},Qo={class:"grid gap-2 md:col-span-1"},es={key:0,class:"text-sm text-red-600"},ts={key:1,class:"text-xs text-muted-foreground"},as=["href"],ns={class:"grid gap-2"},os={key:0,class:"text-sm text-red-600"},ss={key:1,class:"grid gap-2"},rs={key:0,class:"text-sm text-red-600"},ls={key:2,class:"grid gap-2 md:col-span-2"},is=["value"],us={key:0,class:"text-sm text-red-600"},ds={class:"grid gap-2"},ps={key:3,class:"grid gap-2"},cs={class:"grid gap-2 md:col-span-2"},fs={class:"flex flex-wrap gap-2"},vs={key:0,class:"grid gap-2 md:col-span-2"},ms={key:0,class:"text-sm text-red-600"},_s={key:1,class:"grid gap-2 md:col-span-2"},ys={key:0,class:"text-sm text-red-600"},gs={key:1,class:"text-xs text-muted-foreground"},xs=["href"],hs={class:"mx-auto flex h-full w-full max-w-3xl flex-col"},bs={class:"flex-1 overflow-y-auto px-6 pb-6"},ws={key:0,class:"space-y-4"},ks={class:"flex items-center justify-between text-sm"},$s={class:"font-medium"},Cs={class:"text-xs text-muted-foreground"},Ss={class:"mt-1 text-xs uppercase text-muted-foreground"},Ds={class:"mt-3 space-y-2 text-sm"},Ts={class:"text-xs font-semibold uppercase text-muted-foreground"},Bs={key:0,class:"space-y-1 text-xs"},Os={class:"break-all rounded-sm bg-muted/40 px-2 py-1"},Ps={class:"break-all rounded-sm bg-muted/40 px-2 py-1"},Rs={key:1,class:"break-all rounded-sm bg-muted/40 px-2 py-1 text-xs"},qs={key:0,class:"text-sm text-muted-foreground"},Dt="payment-requests.column-visibility",Ys=W({__name:"Index",setup(p){const c=jt(),l=V(()=>c.props),_=u=>new Intl.NumberFormat("uk-UA",{minimumFractionDigits:2,maximumFractionDigits:2}).format(u),v=V(()=>l.value.auth.user.role),$=V(()=>v.value==="user"),k=V(()=>v.value!=="user"),C=V(()=>v.value!=="user"),I=V(()=>v.value!=="user"),E=V(()=>v.value!=="user"),H=[{title:"Платіжні заявки",href:"/payment-requests"}],d=vt({author_id:l.value.filters.author_id??"",participant_id:l.value.filters.participant_id??"",expense_type_id:l.value.filters.expense_type_id??"",expense_category_id:l.value.filters.expense_category_id??"",paid_account_id:l.value.filters.paid_account_id??"",purchase_reference:l.value.filters.purchase_reference??"",ready_for_payment:l.value.filters.ready_for_payment??"",paid:l.value.filters.paid??"",created_from:l.value.filters.created_from??"",created_to:l.value.filters.created_to??"",per_page:l.value.filters.per_page??30}),h=V(()=>{const u=[],t=oe=>l.value.users.find(y=>y.id===Number(oe))?.name??`#${oe}`,a=oe=>l.value.expenseTypes.find(y=>y.id===Number(oe))?.name??`#${oe}`,U=oe=>l.value.expenseCategories.find(y=>y.id===Number(oe))?.name??`#${oe}`,ge=oe=>l.value.paymentAccounts.find(y=>y.id===Number(oe))?.name??`#${oe}`;return d.author_id&&u.push({label:"Автор",value:t(d.author_id)}),d.participant_id&&u.push({label:"Учасник",value:t(d.participant_id)}),d.expense_type_id&&u.push({label:"Тип витрат",value:a(d.expense_type_id)}),d.expense_category_id&&u.push({label:"Категорія",value:U(d.expense_category_id)}),d.paid_account_id&&u.push({label:"Рахунок",value:ge(d.paid_account_id)}),d.purchase_reference&&u.push({label:"№ закупки",value:d.purchase_reference}),d.ready_for_payment!==""&&u.push({label:"Готово до оплати",value:d.ready_for_payment==="1"?"Так":"Ні"}),d.paid!==""&&u.push({label:"Оплачено",value:d.paid==="1"?"Так":"Ні"}),d.created_from&&u.push({label:"Від",value:d.created_from}),d.created_to&&u.push({label:"До",value:d.created_to}),u}),B=P(!1),b=P(!1),w=P(!1),N=P(null),J=P("url"),D=P(!1),m=vt({id:!0,created_at:!0,author:!0,expense_type:!0,expense_category:!0,requisites:!0,amount:!0,purchase_reference:!0,paid_account:!0,receipt_url:!0,participants:!0,status:!0}),O=[{key:"id",label:"ID"},{key:"created_at",label:"Дата"},{key:"author",label:"Хто подав"},{key:"expense_type",label:"Тип витрат"},{key:"expense_category",label:"Категорія витрат"},{key:"requisites",label:"Реквізити"},{key:"amount",label:"Сума/Комісія"},{key:"purchase_reference",label:"№ Закупки"},{key:"paid_account",label:"Рахунок"},{key:"status",label:"Статус"},{key:"receipt_url",label:"Квитанція"},{key:"participants",label:"Учасники"}],T=V(()=>Object.values(m).filter(Boolean).length+1),o=Mt({expense_type_id:"",expense_category_id:"",requisites:"",requisites_file:null,amount:"",commission:"",purchase_reference:"",paid_account_id:"",ready_for_payment:!1,paid:!1,receipt_url:"",receipt_file:null}),q=()=>{o.reset(),o.clearErrors(),o.ready_for_payment=!1,o.paid=!1,o.receipt_url="",o.receipt_file=null,o.requisites_file=null,J.value="url",w.value=!1,N.value=null},te=u=>u.paid?"Оплачено":u.ready_for_payment?"Готово до оплати":"Чернетка",fe=u=>u.paid?"default":u.ready_for_payment?"secondary":"outline",Se={expense_type_id:"Тип витрат",expense_category_id:"Категорія витрат",requisites:"Реквізити для оплати",requisites_file_url:"Файл реквізитів",amount:"Сума",commission:"Комісія",purchase_reference:"Номер з таблиці по закупці",ready_for_payment:"Готово до оплати",paid:"Оплачено",paid_account_id:"Рахунок оплати",receipt_url:"Квитанція (посилання)"},ve=V(()=>o.expense_type_id?l.value.expenseCategories.filter(u=>u.expense_type_id===Number(o.expense_type_id)):l.value.expenseCategories),se=V(()=>d.expense_type_id?l.value.expenseCategories.filter(u=>u.expense_type_id===Number(d.expense_type_id)):l.value.expenseCategories),ye=V(()=>o.expense_type_id?l.value.expenseTypes.find(u=>u.id===Number(o.expense_type_id)):null),me=V(()=>ye.value?.name==="Оплата за товар"),ae=u=>u==null||u===""?"—":typeof u=="boolean"?u?"Так":"Ні":String(u),R=u=>u==="created"?"Створив заявку":u==="updated"?"Оновив заявку":u==="status_changed"?"Змінив статус":u==="requisites_file_pruned"?"Автоматично видалено файл реквізитів":u;Ye(()=>{try{const u=localStorage.getItem(Dt);if(!u)return;const t=JSON.parse(u);for(const a of Object.keys(m))typeof t[a]=="boolean"&&(m[a]=t[a])}catch{}}),pe(m,u=>{try{localStorage.setItem(Dt,JSON.stringify(u))}catch{}},{deep:!0}),pe(()=>o.expense_type_id,()=>{ve.value.some(u=>u.id===Number(o.expense_category_id))||(o.expense_category_id="")}),pe(()=>d.expense_type_id,()=>{se.value.some(u=>u.id===Number(d.expense_category_id))||(d.expense_category_id="")});const Re=u=>{J.value=u,u==="url"&&(o.receipt_file=null)},Z=u=>u===!0||u==="true"||u===1||u==="1",Ke=()=>{q(),B.value=!0},Xe=u=>{w.value=!0,N.value=u,o.clearErrors(),o.expense_type_id=u.expense_type?.id??"",o.expense_category_id=u.expense_category?.id??"",o.requisites=u.requisites??"",o.amount=u.amount??"",o.commission=u.commission??"",o.purchase_reference=u.purchase_reference??"",o.paid_account_id=u.paid_account_id??"",o.ready_for_payment=Z(u.ready_for_payment),o.paid=Z(u.paid),o.receipt_url=u.receipt_url??"",o.receipt_file=null,o.requisites_file=null,J.value="url",B.value=!0,console.log(u.ready_for_payment,typeof u.ready_for_payment)},Ee=u=>{N.value=u,b.value=!0},Fe=u=>({...u,ready_for_payment:u.ready_for_payment?1:0,paid:u.paid?1:0}),Ge=()=>{if($.value&&(o.paid=!1,o.receipt_url="",o.receipt_file=null,o.commission=""),J.value==="file"&&o.receipt_file&&(o.receipt_url=""),w.value&&N.value){if(!window.confirm("Підтвердити оновлення заявки?"))return;o.transform(t=>({...Fe(t),_method:"put"})).post(`/payment-requests/${N.value.id}`,{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{B.value=!1,q(),_e.success("Заявку оновлено")},onError:()=>_e.error("Не вдалося оновити заявку")});return}o.transform(u=>Fe(u)).post("/payment-requests",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{B.value=!1,q(),_e.success("Заявку створено")},onError:()=>_e.error("Не вдалося створити заявку")})},qe=()=>{zt.get("/payment-requests",d,{preserveState:!0,replace:!0})},Ve=u=>{const t=u.target;d.per_page=t.value,qe()},Je=()=>{d.author_id="",d.participant_id="",d.expense_type_id="",d.expense_category_id="",d.paid_account_id="",d.purchase_reference="",d.ready_for_payment="",d.paid="",d.created_from="",d.created_to="",d.per_page=30,qe()},Ze=u=>{const t=u.target;o.receipt_file=t.files?.[0]??null},De=u=>{const t=u.target;o.requisites_file=t.files?.[0]??null},Ae=async u=>{try{await navigator.clipboard.writeText(u),_e.success("Посилання скопійовано")}catch{_e.error("Не вдалося скопіювати")}},Te=async(u,t)=>{const a=u==null||u===""?"—":String(u);try{await navigator.clipboard.writeText(a),_e.success(`${t} скопійовано`)}catch{_e.error("Не вдалося скопіювати")}};return(u,t)=>(r(),f(G,null,[s(e(Ht),{title:"Платіжні заявки"}),s(ea,{breadcrumbs:H},{default:i(()=>[n("div",Ua,[n("div",Ma,[n("div",Ha,[t[32]||(t[32]=n("div",null,[n("h1",{class:"text-xl font-semibold"},"Платіжні заявки"),n("p",{class:"text-sm text-muted-foreground"}," Облік заявок, зміни статусів та історія учасників. ")],-1)),n("div",La,[s(e(_t),{open:D.value,"onUpdate:open":t[0]||(t[0]=a=>D.value=a)},{default:i(()=>[s(e(ha),{"as-child":""},{default:i(()=>[s(e(le),{variant:"outline",size:"sm",type:"button",class:"h-8 gap-1.5 px-3 text-xs"},{default:i(()=>[s(e(ma),{class:"h-4 w-4"}),t[30]||(t[30]=S(" Фільтри ",-1)),s(e(va),{class:Ce(["h-4 w-4 transition-transform",D.value?"rotate-180":""])},null,8,["class"])]),_:1})]),_:1})]),_:1},8,["open"]),l.value.permissions.create?(r(),K(e(le),{key:0,size:"sm",class:"h-8 px-3 text-xs",onClick:Ke},{default:i(()=>[...t[31]||(t[31]=[S(" Створити заявку ",-1)])]),_:1})):x("",!0)])]),s(e(_t),{open:D.value,"onUpdate:open":t[11]||(t[11]=a=>D.value=a),class:"mt-4"},{default:i(()=>[s(e(xa),null,{default:i(()=>[n("div",za,[s(e(A),{class:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[33]||(t[33]=[S("Видимість колонок",-1)])]),_:1}),n("div",ja,[(r(),f(G,null,ne(O,a=>n("button",{key:a.key,type:"button",class:Ce(["rounded-md border px-2 py-1 text-[11px] leading-none transition-colors",m[a.key]?"border-primary text-primary":"border-input text-muted-foreground"]),onClick:U=>m[a.key]=!m[a.key]},g(m[a.key]?"✓":"○")+" "+g(a.label),11,Wa)),64))])]),n("div",Ya,[n("div",Ka,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[34]||(t[34]=[S("Хто подав",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>d.author_id=a),class:"h-8 w-full min-w-0 rounded-md border border-input bg-transparent px-2.5 text-[12px]"},[t[35]||(t[35]=n("option",{value:""},"Усі",-1)),(r(!0),f(G,null,ne(l.value.users,a=>(r(),f("option",{key:a.id,value:String(a.id)},g(a.name),9,Xa))),128))],512),[[ue,d.author_id]])]),n("div",Ga,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[36]||(t[36]=[S("Учасник",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>d.participant_id=a),class:"h-8 w-full min-w-0 rounded-md border border-input bg-transparent px-2.5 text-[12px]"},[t[37]||(t[37]=n("option",{value:""},"Усі",-1)),(r(!0),f(G,null,ne(l.value.users,a=>(r(),f("option",{key:a.id,value:String(a.id)},g(a.name),9,Ja))),128))],512),[[ue,d.participant_id]])]),n("div",Za,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[38]||(t[38]=[S("Тип витрат",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>d.expense_type_id=a),class:"h-8 w-full min-w-0 rounded-md border border-input bg-transparent px-2.5 text-[12px]"},[t[39]||(t[39]=n("option",{value:""},"Усі",-1)),(r(!0),f(G,null,ne(l.value.expenseTypes,a=>(r(),f("option",{key:a.id,value:String(a.id)},g(a.name),9,Qa))),128))],512),[[ue,d.expense_type_id]])]),n("div",en,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[40]||(t[40]=[S("Категорія",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>d.expense_category_id=a),class:"h-8 w-full min-w-0 rounded-md border border-input bg-transparent px-2.5 text-[12px]"},[t[41]||(t[41]=n("option",{value:""},"Усі",-1)),(r(!0),f(G,null,ne(se.value,a=>(r(),f("option",{key:a.id,value:String(a.id)},g(a.name),9,tn))),128))],512),[[ue,d.expense_category_id]])]),n("div",an,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[42]||(t[42]=[S("Рахунок",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>d.paid_account_id=a),class:"h-8 w-full min-w-0 rounded-md border border-input bg-transparent px-2.5 text-[12px]"},[t[43]||(t[43]=n("option",{value:""},"Усі",-1)),(r(!0),f(G,null,ne(l.value.paymentAccounts,a=>(r(),f("option",{key:a.id,value:String(a.id)},g(a.name),9,nn))),128))],512),[[ue,d.paid_account_id]])]),n("div",on,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[44]||(t[44]=[S("№ Закупки",-1)])]),_:1}),s(e(de),{modelValue:d.purchase_reference,"onUpdate:modelValue":t[6]||(t[6]=a=>d.purchase_reference=a),type:"text",class:"h-8 w-full min-w-0 px-2.5 text-[12px]"},null,8,["modelValue"])]),n("div",sn,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[45]||(t[45]=[S("Готово",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[7]||(t[7]=a=>d.ready_for_payment=a),class:"h-8 w-full min-w-0 rounded-md border border-input bg-transparent px-2.5 text-[12px]"},[...t[46]||(t[46]=[n("option",{value:""},"Усі",-1),n("option",{value:"1"},"Так",-1),n("option",{value:"0"},"Ні",-1)])],512),[[ue,d.ready_for_payment]])]),n("div",rn,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[47]||(t[47]=[S("Оплачено",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[8]||(t[8]=a=>d.paid=a),class:"h-8 w-full min-w-0 rounded-md border border-input bg-transparent px-2.5 text-[12px]"},[...t[48]||(t[48]=[n("option",{value:""},"Усі",-1),n("option",{value:"1"},"Так",-1),n("option",{value:"0"},"Ні",-1)])],512),[[ue,d.paid]])]),n("div",ln,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[49]||(t[49]=[S("Дата від",-1)])]),_:1}),s(e(de),{modelValue:d.created_from,"onUpdate:modelValue":t[9]||(t[9]=a=>d.created_from=a),type:"date",class:"h-8 w-full min-w-0 px-2.5 text-[12px]"},null,8,["modelValue"])]),n("div",un,[s(e(A),{class:"text-[11px] font-medium uppercase tracking-wide text-muted-foreground"},{default:i(()=>[...t[50]||(t[50]=[S("Дата до",-1)])]),_:1}),s(e(de),{modelValue:d.created_to,"onUpdate:modelValue":t[10]||(t[10]=a=>d.created_to=a),type:"date",class:"h-8 w-full min-w-0 px-2.5 text-[12px]"},null,8,["modelValue"])])]),n("div",dn,[s(e(le),{variant:"secondary",size:"sm",class:"h-8 px-3 text-xs",onClick:qe},{default:i(()=>[...t[51]||(t[51]=[S("Застосувати",-1)])]),_:1}),s(e(le),{variant:"ghost",size:"sm",class:"h-8 px-3 text-xs",onClick:Je},{default:i(()=>[...t[52]||(t[52]=[S("Очистити",-1)])]),_:1})])]),_:1})]),_:1},8,["open"])]),n("div",pn,[n("div",cn,[n("table",fn,[n("thead",vn,[n("tr",null,[m.id?(r(),f("th",mn,"ID")):x("",!0),m.created_at?(r(),f("th",_n,"Дата")):x("",!0),m.author?(r(),f("th",yn,"Хто подав")):x("",!0),m.expense_type?(r(),f("th",gn,"Тип витрат")):x("",!0),m.expense_category?(r(),f("th",xn,"Категорія витрат")):x("",!0),m.requisites?(r(),f("th",hn,"Реквізити")):x("",!0),m.amount?(r(),f("th",bn,"Сума / Комісія")):x("",!0),m.purchase_reference?(r(),f("th",wn,"№ Закупки")):x("",!0),m.paid_account?(r(),f("th",kn,"Рахунок")):x("",!0),m.status?(r(),f("th",$n,"Статус")):x("",!0),m.receipt_url?(r(),f("th",Cn,"Квитанція")):x("",!0),m.participants?(r(),f("th",Sn,"Учасники")):x("",!0),t[53]||(t[53]=n("th",{class:"px-3 py-2 text-right"},"Дії",-1))])]),n("tbody",null,[(r(!0),f(G,null,ne(l.value.paymentRequests.data,a=>(r(),f("tr",{key:a.id,class:"border-b border-sidebar-border/40 align-top"},[m.id?(r(),f("td",Dn,[n("div",Tn,[n("span",Bn,g(a.id),1)])])):x("",!0),m.created_at?(r(),f("td",On,[n("div",Pn,[n("span",Rn,g(new Date(a.created_at).toLocaleString().slice(0,-3)),1)])])):x("",!0),m.author?(r(),f("td",qn,[n("div",In,[n("span",null,g(a.author?.name??"—"),1)])])):x("",!0),m.expense_type?(r(),f("td",Nn,[n("div",En,[s(e($e),{"delay-duration":100},{default:i(()=>[s(e(be),null,{default:i(()=>[s(e(we),{"as-child":""},{default:i(()=>[n("span",Fn,g(a.expense_type?.name??"—"),1)]),_:2},1024),s(e(ke),null,{default:i(()=>[n("span",Vn,g(a.expense_type?.name??"—"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])):x("",!0),m.expense_category?(r(),f("td",An,[n("div",Un,[s(e($e),{"delay-duration":100},{default:i(()=>[s(e(be),null,{default:i(()=>[s(e(we),{"as-child":""},{default:i(()=>[n("span",Mn,g(a.expense_category?.name??"—"),1)]),_:2},1024),s(e(ke),null,{default:i(()=>[n("span",Hn,g(a.expense_category?.name??"—"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])):x("",!0),m.requisites?(r(),f("td",Ln,[n("div",zn,[s(e($e),{"delay-duration":100},{default:i(()=>[s(e(be),null,{default:i(()=>[s(e(we),{"as-child":""},{default:i(()=>[n("span",jn,g(a.requisites??"—"),1)]),_:2},1024),s(e(ke),null,{default:i(()=>[n("span",Wn,g(a.requisites??"—"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a.requisites?(r(),f("button",{key:0,type:"button",class:"mt-0.5",onClick:U=>Te(a.requisites,"Реквізити"),"aria-label":"Скопіювати реквізити"},[s(e(Le),{class:"h-3.5 w-3.5 text-muted-foreground hover:text-foreground"})],8,Yn)):x("",!0),a.requisites_file_url?(r(),f("div",Kn,[s(e($e),{"delay-duration":100},{default:i(()=>[s(e(be),null,{default:i(()=>[s(e(we),{"as-child":""},{default:i(()=>[n("button",{type:"button",class:"",onClick:U=>Te(a.requisites_file_url,"Файл реквізитів"),"aria-label":"Скопіювати файл реквізитів"},[s(e(ya),{class:"h-3.5 w-3.5 text-muted-foreground hover:text-foreground"})],8,Xn)]),_:2},1024),s(e(ke),null,{default:i(()=>[n("span",Gn,g(a.requisites_file_url),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):x("",!0)])])):x("",!0),m.amount?(r(),f("td",Jn,[n("div",Zn,[n("div",Qn,[n("span",null,g(a.amount),1),n("button",{type:"button",class:"",onClick:U=>Te(a.amount,"Суму"),"aria-label":"Скопіювати суму"},[s(e(Le),{class:"h-3.5 w-3.5 text-muted-foreground hover:text-foreground"})],8,eo)]),a.commission?(r(),f("span",to," Комісія: "+g(a.commission),1)):x("",!0)])])):x("",!0),m.purchase_reference?(r(),f("td",ao,[n("div",no,[n("span",null,g(a.purchase_reference??"—"),1),a.purchase_reference?(r(),f("button",{key:0,type:"button",class:"",onClick:U=>Te(a.purchase_reference,"Номер закупки"),"aria-label":"Скопіювати номер закупки"},[s(e(Le),{class:"h-3.5 w-3.5 text-muted-foreground hover:text-foreground"})],8,oo)):x("",!0)])])):x("",!0),m.paid_account?(r(),f("td",so,[n("div",ro,[s(e($e),{"delay-duration":100},{default:i(()=>[s(e(be),null,{default:i(()=>[s(e(we),{"as-child":""},{default:i(()=>[n("span",lo,g(a.paid_account?.name??"—"),1)]),_:2},1024),s(e(ke),null,{default:i(()=>[n("span",io,g(a.paid_account?.name??"—"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])):x("",!0),m.status?(r(),f("td",uo,[n("div",po,[s(e(ta),{variant:fe(a)},{default:i(()=>[S(g(te(a)),1)]),_:2},1032,["variant"])])])):x("",!0),m.receipt_url?(r(),f("td",co,[a.receipt_url?(r(),f("div",fo,[s(e(aa),{class:"h-4 w-4 text-green-600"}),$.value?x("",!0):(r(),f("div",vo,[s(e($e),{"delay-duration":100},{default:i(()=>[s(e(be),null,{default:i(()=>[s(e(we),{"as-child":""},{default:i(()=>[n("span",mo,g(a.receipt_url),1)]),_:2},1024),s(e(ke),null,{default:i(()=>[n("span",_o,g(a.receipt_url),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),n("button",{type:"button",class:"",onClick:U=>Ae(a.receipt_url),"aria-label":"Скопіювати посилання"},[s(e(Le),{class:"h-3.5 w-3.5 text-muted-foreground hover:text-foreground"})],8,yo)]))])):(r(),f("span",go,"—"))])):x("",!0),m.participants?(r(),f("td",xo,[n("div",ho,[s(e($e),{"delay-duration":100},{default:i(()=>[s(e(be),null,{default:i(()=>[s(e(we),{"as-child":""},{default:i(()=>[n("span",bo,g(a.participants.map(U=>U.name).join(", ")||"—"),1)]),_:2},1024),s(e(ke),null,{default:i(()=>[n("span",wo,g(a.participants.map(U=>U.name).join(", ")||"—"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])])):x("",!0),n("td",ko,[n("div",$o,[s(e(le),{size:"icon-sm",variant:"outline",onClick:U=>Xe(a),disabled:!a.can.update,"aria-label":"Редагувати"},{default:i(()=>[s(e(ga),{class:"h-4 w-4"})]),_:1},8,["onClick","disabled"]),s(e(le),{size:"icon-sm",variant:"secondary",onClick:U=>Ee(a),"aria-label":"Історія"},{default:i(()=>[s(e(_a),{class:"h-4 w-4"})]),_:1},8,["onClick"])])])]))),128)),l.value.paymentRequests.data.length===0?(r(),f("tr",Co,[n("td",{class:"px-4 py-6 text-center text-muted-foreground",colspan:T.value},"Заявок не знайдено.",8,So)])):x("",!0)])])]),n("div",Do,[n("div",To,[t[55]||(t[55]=n("span",null,"На сторінці:",-1)),n("select",{value:String(d.per_page),class:"h-8 rounded-md border border-input bg-transparent px-2 text-xs text-foreground",onChange:Ve},[...t[54]||(t[54]=[n("option",{value:"10"},"10",-1),n("option",{value:"20"},"20",-1),n("option",{value:"30"},"30",-1),n("option",{value:"50"},"50",-1),n("option",{value:"100"},"100",-1)])],40,Bo)]),(r(!0),f(G,null,ne(l.value.paymentRequests.links,a=>(r(),f(G,{key:a.label},[a.url?(r(),K(e(Lt),{key:0,href:a.url,class:Ce(["rounded-md border border-input px-3 py-1 text-sm",a.active?"bg-muted font-semibold":"text-muted-foreground"]),innerHTML:a.label},null,8,["href","class","innerHTML"])):(r(),f("span",{key:1,class:"rounded-md border border-input px-3 py-1 text-sm text-muted-foreground opacity-60",innerHTML:a.label},null,8,Oo))],64))),128))]),n("div",Po,[n("div",Ro,[t[56]||(t[56]=n("span",{class:"font-medium text-foreground"},"Активні фільтри:",-1)),h.value.length?(r(!0),f(G,{key:0},ne(h.value,a=>(r(),f("span",{key:`${a.label}-${a.value}`,class:"rounded-md border border-input/60 bg-background px-2 py-1 text-foreground"},g(a.label)+": "+g(a.value),1))),128)):(r(),f("span",qo,"немає"))])]),l.value.totals?(r(),f("div",Io,[n("div",No,[t[57]||(t[57]=n("span",{class:"text-xs text-muted-foreground"}," Підсумок по всіх заявках, що відповідають фільтрам за заданий період: ",-1)),n("div",Eo,[n("span",null,"Сума: "+g(_(l.value.totals.amount)),1),n("span",null,"Комісія: "+g(_(l.value.totals.commission)),1)])])])):x("",!0)])]),s(e(ht),{open:B.value,"onUpdate:open":t[28]||(t[28]=a=>{B.value=a,a||q()})},{default:i(()=>[s(e(wt),{class:"h-[90vh]"},{default:i(()=>[n("div",Fo,[n("form",{class:"flex h-full flex-col",onSubmit:We(Ge,["prevent"])},[s(e(Ct),{class:"px-6 pt-6"},{default:i(()=>[s(e(St),null,{default:i(()=>[w.value?(r(),f("span",Vo,"Редагувати заявку")):(r(),f("span",Ao,"Створити заявку"))]),_:1}),s(e(kt),null,{default:i(()=>[...t[58]||(t[58]=[S(" Заповніть обов'язкові поля та підтвердіть дію. ",-1)])]),_:1})]),_:1}),n("div",Uo,[n("div",Mo,[n("div",Ho,[s(e(A),null,{default:i(()=>[...t[59]||(t[59]=[S("Тип витрат",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[12]||(t[12]=a=>e(o).expense_type_id=a),class:"h-9 rounded-md border border-input bg-transparent px-3 text-sm"},[t[60]||(t[60]=n("option",{value:""},"Оберіть тип",-1)),(r(!0),f(G,null,ne(l.value.expenseTypes,a=>(r(),f("option",{key:a.id,value:a.id},g(a.name),9,Lo))),128))],512),[[ue,e(o).expense_type_id]]),e(o).errors.expense_type_id?(r(),f("span",zo,g(e(o).errors.expense_type_id),1)):x("",!0)]),n("div",jo,[s(e(A),null,{default:i(()=>[...t[61]||(t[61]=[S("Категорія витрат",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[13]||(t[13]=a=>e(o).expense_category_id=a),class:"h-9 rounded-md border border-input bg-transparent px-3 text-sm",disabled:!e(o).expense_type_id},[t[62]||(t[62]=n("option",{value:""},"Оберіть категорію",-1)),(r(!0),f(G,null,ne(ve.value,a=>(r(),f("option",{key:a.id,value:a.id},g(a.name),9,Yo))),128))],8,Wo),[[ue,e(o).expense_category_id]]),e(o).errors.expense_category_id?(r(),f("span",Ko,g(e(o).errors.expense_category_id),1)):x("",!0)]),me.value?(r(),f("div",Xo,[s(e(A),null,{default:i(()=>[...t[63]||(t[63]=[S("Номер з таблиці по закупці",-1)])]),_:1}),s(e(de),{modelValue:e(o).purchase_reference,"onUpdate:modelValue":t[14]||(t[14]=a=>e(o).purchase_reference=a),type:"text"},null,8,["modelValue"]),e(o).errors.purchase_reference?(r(),f("span",Go,g(e(o).errors.purchase_reference),1)):x("",!0)])):x("",!0),n("div",Jo,[s(e(A),null,{default:i(()=>[...t[64]||(t[64]=[S("Реквізити для оплати",-1)])]),_:1}),s(e(de),{modelValue:e(o).requisites,"onUpdate:modelValue":t[15]||(t[15]=a=>e(o).requisites=a),type:"text"},null,8,["modelValue"]),e(o).errors.requisites?(r(),f("span",Zo,g(e(o).errors.requisites),1)):x("",!0)]),n("div",Qo,[s(e(A),null,{default:i(()=>[...t[65]||(t[65]=[S("Файл реквізитів",-1)])]),_:1}),s(e(de),{type:"file",accept:".xls,.xlsx,.csv,.pdf,.jpg,.jpeg,.png,.webp",onChange:De}),e(o).errors.requisites_file?(r(),f("span",es,g(e(o).errors.requisites_file),1)):x("",!0),N.value?.requisites_file_url?(r(),f("p",ts,[t[66]||(t[66]=S(" Поточний файл: ",-1)),n("a",{href:N.value.requisites_file_url,class:"underline",target:"_blank",rel:"noreferrer"},"переглянути",8,as)])):x("",!0)]),n("div",ns,[s(e(A),null,{default:i(()=>[...t[67]||(t[67]=[S("Сума",-1)])]),_:1}),s(e(de),{modelValue:e(o).amount,"onUpdate:modelValue":t[16]||(t[16]=a=>e(o).amount=a),type:"number",step:"0.01"},null,8,["modelValue"]),e(o).errors.amount?(r(),f("span",os,g(e(o).errors.amount),1)):x("",!0)]),I.value?(r(),f("div",ss,[s(e(A),null,{default:i(()=>[...t[68]||(t[68]=[S("Комісія",-1)])]),_:1}),s(e(de),{modelValue:e(o).commission,"onUpdate:modelValue":t[17]||(t[17]=a=>e(o).commission=a),type:"number",step:"0.01"},null,8,["modelValue"]),e(o).errors.commission?(r(),f("span",rs,g(e(o).errors.commission),1)):x("",!0)])):x("",!0),E.value?(r(),f("div",ls,[s(e(A),null,{default:i(()=>[...t[69]||(t[69]=[S("Рахунок, з якого була здійснена оплата",-1)])]),_:1}),ie(n("select",{"onUpdate:modelValue":t[18]||(t[18]=a=>e(o).paid_account_id=a),class:"h-9 rounded-md border border-input bg-transparent px-3 text-sm"},[t[70]||(t[70]=n("option",{value:""},"Оберіть рахунок",-1)),(r(!0),f(G,null,ne(l.value.paymentAccounts,a=>(r(),f("option",{key:a.id,value:a.id},g(a.name),9,is))),128))],512),[[ue,e(o).paid_account_id]]),e(o).errors.paid_account_id?(r(),f("span",us,g(e(o).errors.paid_account_id),1)):x("",!0)])):x("",!0),n("div",ds,[s(e(A),null,{default:i(()=>[...t[71]||(t[71]=[S("Готово до оплати",-1)])]),_:1}),n("div",{class:"flex cursor-pointer items-center gap-3 rounded-md border border-input px-3 py-2",onClick:t[21]||(t[21]=a=>e(o).ready_for_payment=!e(o).ready_for_payment)},[s(e(mt),{modelValue:e(o).ready_for_payment,"onUpdate:modelValue":t[19]||(t[19]=a=>e(o).ready_for_payment=a),class:"h-5 w-5",onClick:t[20]||(t[20]=We(()=>{},["stop"]))},null,8,["modelValue"]),t[72]||(t[72]=n("span",{class:"text-sm font-medium"},"Готово",-1))])]),k.value?(r(),f("div",ps,[s(e(A),null,{default:i(()=>[...t[73]||(t[73]=[S("Оплачено",-1)])]),_:1}),n("div",{class:"flex cursor-pointer items-center gap-3 rounded-md border border-input px-3 py-2",onClick:t[24]||(t[24]=a=>e(o).paid=!e(o).paid)},[s(e(mt),{modelValue:e(o).paid,"onUpdate:modelValue":t[22]||(t[22]=a=>e(o).paid=a),class:"h-5 w-5",onClick:t[23]||(t[23]=We(()=>{},["stop"]))},null,8,["modelValue"]),t[74]||(t[74]=n("span",{class:"text-sm font-medium"},"Оплачено",-1))])])):x("",!0),C.value?(r(),f(G,{key:4},[n("div",cs,[s(e(A),null,{default:i(()=>[...t[75]||(t[75]=[S("Спосіб завантаження квитанції",-1)])]),_:1}),n("div",fs,[s(e(le),{type:"button",variant:"outline",class:Ce(J.value==="url"?"border-primary text-primary":""),onClick:t[25]||(t[25]=a=>Re("url"))},{default:i(()=>[...t[76]||(t[76]=[S(" Посилання ",-1)])]),_:1},8,["class"]),s(e(le),{type:"button",variant:"outline",class:Ce(J.value==="file"?"border-primary text-primary":""),onClick:t[26]||(t[26]=a=>Re("file"))},{default:i(()=>[...t[77]||(t[77]=[S(" Файл PDF ",-1)])]),_:1},8,["class"])])]),J.value==="url"?(r(),f("div",vs,[s(e(A),null,{default:i(()=>[...t[78]||(t[78]=[S("Посилання на квитанцію або підтвердження оплати",-1)])]),_:1}),s(e(de),{modelValue:e(o).receipt_url,"onUpdate:modelValue":t[27]||(t[27]=a=>e(o).receipt_url=a),type:"text"},null,8,["modelValue"]),e(o).errors.receipt_url?(r(),f("span",ms,g(e(o).errors.receipt_url),1)):x("",!0)])):(r(),f("div",_s,[s(e(A),null,{default:i(()=>[...t[79]||(t[79]=[S("Файл квитанції (PDF)",-1)])]),_:1}),s(e(de),{type:"file",accept:".pdf",onChange:Ze}),e(o).errors.receipt_file?(r(),f("span",ys,g(e(o).errors.receipt_file),1)):x("",!0),N.value?.receipt_url?(r(),f("p",gs,[t[80]||(t[80]=S(" Поточний файл/посилання: ",-1)),n("a",{href:N.value.receipt_url,class:"underline",target:"_blank",rel:"noreferrer"},"переглянути",8,xs)])):x("",!0)]))],64)):x("",!0)])]),s(e($t),{class:"px-6 pb-6"},{default:i(()=>[s(e(le),{type:"submit",disabled:e(o).processing},{default:i(()=>[S(g(w.value?"Зберегти":"Створити"),1)]),_:1},8,["disabled"]),s(e(bt),{"as-child":""},{default:i(()=>[s(e(le),{type:"button",variant:"outline"},{default:i(()=>[...t[81]||(t[81]=[S("Скасувати",-1)])]),_:1})]),_:1})]),_:1})],32)])]),_:1})]),_:1},8,["open"]),s(e(ht),{open:b.value,"onUpdate:open":t[29]||(t[29]=a=>b.value=a)},{default:i(()=>[s(e(wt),{class:"h-[80vh]"},{default:i(()=>[n("div",hs,[s(e(Ct),{class:"px-6 pt-6"},{default:i(()=>[s(e(St),null,{default:i(()=>[...t[82]||(t[82]=[S("Історія заявки",-1)])]),_:1}),s(e(kt),null,{default:i(()=>[...t[83]||(t[83]=[S(" Хто, що і коли змінював. ",-1)])]),_:1})]),_:1}),n("div",bs,[N.value?(r(),f("div",ws,[(r(!0),f(G,null,ne(N.value.history,a=>(r(),f("div",{key:a.id,class:"rounded-lg border border-sidebar-border/60 p-4"},[n("div",ks,[n("span",$s,g(a.user?.name),1),n("span",Cs,g(new Date(a.created_at).toLocaleString()),1)]),n("div",Ss,g(R(a.action)),1),n("div",Ds,[(r(!0),f(G,null,ne(a.changed_fields,(U,ge)=>(r(),f("div",{key:ge,class:"grid gap-1"},[n("div",Ts,g(Se[String(ge)]??String(ge)),1),typeof U=="object"&&U!==null&&"old"in U&&"new"in U?(r(),f("div",Bs,[t[84]||(t[84]=n("span",{class:"text-muted-foreground"},"Було:",-1)),n("div",Os,g(ae(U.old)),1),t[85]||(t[85]=n("span",{class:"mx-2 text-muted-foreground"},"→",-1)),t[86]||(t[86]=n("span",{class:"text-muted-foreground"},"Стало:",-1)),n("div",Ps,g(ae(U.new)),1)])):(r(),f("div",Rs,g(ae(U)),1))]))),128))])]))),128)),N.value.history.length===0?(r(),f("p",qs,"Історія відсутня.")):x("",!0)])):x("",!0)]),s(e($t),{class:"px-6 pb-6"},{default:i(()=>[s(e(bt),{"as-child":""},{default:i(()=>[s(e(le),{type:"button",variant:"outline"},{default:i(()=>[...t[87]||(t[87]=[S("Закрити",-1)])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Ys as default};
