import{d as h,H as j,c as u,a as r,u as s,h as B,w as a,b as t,f as d,o as m,p as v,g as b,F as y,E as F,v as z,j as k,r as x,I,J as U}from"./app-DrHXUj_w.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-D_TnovZe.js";import{_ as p}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CHERCCRP.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-BEkDPcb8.js";import{_ as J}from"./Label.vue_vue_type_script_setup_true_lang-q2sD0DhG.js";import{_ as L,a as M,b as O,c as P}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B5I83UkO.js";import"./index-3nVzOy6E.js";import"./VisuallyHidden-DiFExzsD.js";import"./useForwardExpose-l8w9yqD-.js";import"./useForwardPropsEmits-DR5ASvf6.js";import"./index-B26eXW15.js";import"./loader-circle-CXQ59b0Y.js";const T={class:"flex flex-col gap-6 p-4"},q={class:"flex flex-wrap items-center justify-between gap-4"},A={key:0,class:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-900/50 dark:bg-red-950/40 dark:text-red-200"},G={class:"overflow-hidden rounded-xl border border-sidebar-border/70 bg-white dark:border-sidebar-border dark:bg-neutral-900"},K={class:"w-full text-left text-sm"},Q={class:"px-4 py-3"},R={class:"px-4 py-3"},W={class:"flex gap-2"},X={key:0},Y={class:"grid gap-2"},Z={key:0,class:"text-sm text-red-600"},ee={class:"flex justify-end gap-2"},ce=h({__name:"Index",setup(te){const $=U(),_=k(()=>$.props),g=k(()=>_.value.errors??{}),w=[{title:"Адмін",href:"/admin/users"},{title:"Рахунки для оплати",href:"/admin/payment-accounts"}],l=x(!1),f=x(!1),c=x(null),o=j({name:""}),C=()=>{f.value=!1,c.value=null,o.reset(),o.clearErrors(),l.value=!0},S=i=>{f.value=!0,c.value=i,o.name=i.name,o.clearErrors(),l.value=!0},V=()=>{if(f.value&&c.value){if(!window.confirm("Підтвердити оновлення рахунку?"))return;o.put(`/admin/payment-accounts/${c.value.id}`,{preserveScroll:!0,onSuccess:()=>{l.value=!1}});return}o.post("/admin/payment-accounts",{preserveScroll:!0,onSuccess:()=>{l.value=!1,o.reset()}})},E=i=>{window.confirm("Видалити рахунок?")&&I.delete(`/admin/payment-accounts/${i.id}`,{preserveScroll:!0})};return(i,e)=>(m(),u(y,null,[r(s(B),{title:"Рахунки для оплати"}),r(D,{breadcrumbs:w},{default:a(()=>[t("div",T,[t("div",q,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-xl font-semibold"},"Рахунки для оплати"),t("p",{class:"text-sm text-muted-foreground"},"Налаштування лише для адміністратора.")],-1)),r(s(p),{onClick:C},{default:a(()=>[...e[3]||(e[3]=[d("Створити рахунок",-1)])]),_:1})]),g.value.delete?(m(),u("div",A,[t("p",null,v(g.value.delete),1)])):b("",!0),t("div",G,[t("table",K,[e[8]||(e[8]=t("thead",{class:"border-b border-sidebar-border/70 text-xs uppercase text-muted-foreground"},[t("tr",null,[t("th",{class:"px-4 py-3"},"Назва"),t("th",{class:"px-4 py-3"},"Дії")])],-1)),t("tbody",null,[(m(!0),u(y,null,F(_.value.items,n=>(m(),u("tr",{key:n.id,class:"border-b border-sidebar-border/40"},[t("td",Q,v(n.name),1),t("td",R,[t("div",W,[r(s(p),{size:"sm",variant:"outline",onClick:N=>S(n)},{default:a(()=>[...e[5]||(e[5]=[d("Редагувати",-1)])]),_:1},8,["onClick"]),r(s(p),{size:"sm",variant:"destructive",onClick:N=>E(n)},{default:a(()=>[...e[6]||(e[6]=[d("Видалити",-1)])]),_:1},8,["onClick"])])])]))),128)),_.value.items.length===0?(m(),u("tr",X,[...e[7]||(e[7]=[t("td",{class:"px-4 py-6 text-center text-muted-foreground",colspan:"2"},"Рахунки для оплати відсутні.",-1)])])):b("",!0)])])])]),r(s(L),{open:l.value,"onUpdate:open":e[2]||(e[2]=n=>l.value=n)},{default:a(()=>[r(s(M),null,{default:a(()=>[r(s(O),null,{default:a(()=>[r(s(P),null,{default:a(()=>[d(v(f.value?"Редагувати рахунок":"Створити рахунок"),1)]),_:1})]),_:1}),t("form",{class:"mt-4 grid gap-4",onSubmit:z(V,["prevent"])},[t("div",Y,[r(s(J),null,{default:a(()=>[...e[9]||(e[9]=[d("Назва",-1)])]),_:1}),r(s(H),{modelValue:s(o).name,"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).name=n)},null,8,["modelValue"]),s(o).errors.name?(m(),u("span",Z,v(s(o).errors.name),1)):b("",!0)]),t("div",ee,[r(s(p),{type:"button",variant:"ghost",onClick:e[1]||(e[1]=n=>l.value=!1)},{default:a(()=>[...e[10]||(e[10]=[d("Скасувати",-1)])]),_:1}),r(s(p),{type:"submit",disabled:s(o).processing},{default:a(()=>[...e[11]||(e[11]=[d("Зберегти",-1)])]),_:1},8,["disabled"])])],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{ce as default};
